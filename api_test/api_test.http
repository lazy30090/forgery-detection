### 全局变量配置
@host = http://localhost:8080

# ==========================================
# 1. 新闻管理模块
# ==========================================

### 1.1 分页查询
GET {{host}}/api/news/list?page=1&size=5&label=谣言

### 1.2 获取详情
GET {{host}}/api/news/1

### 1.3 新增新闻
POST {{host}}/api/news/add
Content-Type: application/json

{
  "title": "测试新闻标题",
  "content": "测试内容...",
  "platform": "微信",
  "url": "http://example.com"
}

### (分隔符：防止报错)

# ==========================================
# 2. 文件上传模块
# ==========================================

### 2.1 上传图片 (确保 test.jpg 在同级目录)
POST {{host}}/api/common/upload
Content-Type: multipart/form-data; boundary=WebAppBoundary

--WebAppBoundary
Content-Disposition: form-data; name="file"; filename="test.jpg"
Content-Type: image/jpeg

< ./test.jpg
--WebAppBoundary--

### (分隔符)

# ==========================================
# 3. 伪造检测模块
# ==========================================

### 3.1 提交检测
POST {{host}}/api/detect/submit?newsId=1

### 3.2 查询结果
GET {{host}}/api/detect/result/1

### (分隔符)

# ==========================================
# 4. 数据统计模块
# ==========================================

### 4.1 首页大屏
GET {{host}}/api/stats/dashboard

# ==========================================
# 5. [临时] 测试 Python Mock 服务
# ==========================================

### 5.1 直接测试 Python 接口
POST http://localhost:5000/predict
Content-Type: application/json

{
  "newsId": 999,
  "text": "测试文本",
  "imageUrl": "D:/test.jpg"
}

### (分隔符)

# ==========================================
# 0. 用户认证模块
# ==========================================

### 0.1 用户登录 (使用 Task 1 中初始化的 admin 账号)
POST {{host}}/api/auth/login?username=admin&password=123456

### 0.2 查询当前是否登录 (不带 Token -> 应该返回 false)
GET {{host}}/api/auth/isLogin

### 0.3 查询当前是否登录 (带 Token -> 应该返回 true)
# 注意：你需要把 login 接口返回的 tokenValue 填到这里
GET {{host}}/api/auth/isLogin
satoken: 9ec25eb2-7019-45da-a5bf-0e160b1e43ac

### (分隔符)

# ==========================================
# 6. 安全拦截测试
# ==========================================

### 6.1 [反例] 不带 Token 强行提交检测 (预期失败 401)
POST {{host}}/api/detect/submit?newsId=1

### 6.2 [正例] 带 Token 提交检测 (预期成功 200)
POST {{host}}/api/detect/submit?newsId=1
satoken: b648d36c-95af-4470-a2ad-a5ed74c6869b