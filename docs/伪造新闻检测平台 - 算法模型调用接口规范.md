# 伪造新闻检测平台 - 算法模型调用接口规范

**文档版本**: 1.0

**对接方**: 后端开发组 -> 算法模型组

**协议**: HTTP / JSON

## 1. 背景说明

后端系统（Java Spring Boot）作为主控方，会在用户提交检测任务时，通过 HTTP POST 请求调用算法模型服务。

算法模型服务需要启动一个 Web Server（推荐使用 FastAPI 或 Flask），监听指定端口，接收新闻数据并返回检测结果。

## 2. 服务地址约定

- **通信协议**: HTTP
- **请求方法**: `POST`
- **建议端口**: `5000` (开发环境)
- **完整 URL**: `http://localhost:5000/predict` (或者部署服务器的实际 IP)

## 3. 接口定义

### 3.1 请求参数 (Input)

后端发送给算法模型的 JSON 数据包结构。

| **字段名** | **类型** | **必填** | **说明**                                |
| ---------- | -------- | -------- | --------------------------------------- |
| `newsId`   | Long     | 是       | 新闻唯一ID (数据库主键)，用于回传时对应 |
| `title`    | String   | 否       | 新闻标题 (可能为空字符串)               |
| `content`  | String   | 否       | 新闻正文文本 (可能为空字符串)           |
| `picUrl`   | String   | 否       | 图片路径或URL (可能为空字符串)          |

**Java 发送的 JSON 示例**:

```json
{
  "newsId": 1024,
  "title": "震惊！喝白开水也会中毒...",
  "content": "近日网传...",
  "picUrl": "D:/forgery_uploads/test.jpg" 
}
```

### 3.2 响应参数 (Output)

算法模型处理完成后，**必须**返回给后端的 JSON 数据包结构。

| **字段名**      | **类型** | **必填** | **说明**                                           |
| --------------- | -------- | -------- | -------------------------------------------------- |
| `code`          | Integer  | 是       | 状态码，成功请返回 200                             |
| `msg`           | String   | 否       | 调试信息                                           |
| `data`          | Object   | 是       | 核心结果数据                                       |
| └ `resultLabel` | String   | 是       | 最终判定标签，固定值二选一: `"谣言"` 或 `"事实"`   |
| └ `confidence`  | Float    | 是       | 置信度分数 (0.0 ~ 1.0)                             |
| └ `explanation` | String   | 是       | AI 给出的解释文本 (如: "检测到图片右下角有PS痕迹") |

**期望收到的 JSON 示例**:

```json
{
  "code": 200,
  "msg": "success",
  "data": {
    "resultLabel": "谣言",
    "confidence": 0.9852,
    "explanation": "经多模态检测，图片存在明显篡改痕迹，且文本情感极性异常。"
  }
}
```